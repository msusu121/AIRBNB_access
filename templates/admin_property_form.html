{% extends "base.html" %}
{% block content %}
<div class="bg-white rounded-2xl shadow-sm p-6 space-y-4 max-w-xl">
  <h1 class="text-xl font-semibold">{{ 'Edit Property' if prop else 'New Property' }}</h1>

  <form method="post" action="{{ url_for('admin.properties_update', prop_id=prop.id) if prop else url_for('admin.properties_create') }}" class="space-y-3">
    <div>
      <label class="text-sm">Name</label>
      <input name="name" value="{{ prop.name if prop else '' }}" class="w-full rounded-xl border border-slate-300 px-3 py-2" required>
    </div>
    <div>
      <label class="text-sm">Address</label>
      <input name="address" value="{{ prop.address if prop else '' }}" class="w-full rounded-xl border border-slate-300 px-3 py-2">
    </div>
    <div>
      <label class="text-sm">Owner</label>
      <select name="owner_id" class="w-full rounded-xl border border-slate-300 px-3 py-2" required>
        {% for u in owners %}
          <option value="{{ u.id }}" {% if prop and prop.owner_id == u.id %}selected{% endif %}>{{ u.name }} ({{ u.email }})</option>
        {% endfor %}
      </select>
    </div>
    <div class="pt-2">
      <button class="px-3 py-2 rounded-xl bg-slate-900 text-white">Save</button>
      <a href="{{ url_for('admin.properties_index') }}" class="px-3 py-2 rounded-xl border ml-2">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
