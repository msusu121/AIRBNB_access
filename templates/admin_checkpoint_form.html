{% extends "base.html" %}
{% block content %}
<div class="bg-white rounded-2xl shadow-sm p-6 space-y-4 max-w-xl">
  <h1 class="text-xl font-semibold">{{ 'Edit Checkpoint' if cp else 'New Checkpoint' }}</h1>

  <form method="post" action="{{ url_for('admin.checkpoints_update', cp_id=cp.id) if cp else url_for('admin.checkpoints_create') }}" class="space-y-3">
    <div>
      <label class="text-sm">Property</label>
      <select name="property_id" class="w-full rounded-xl border border-slate-300 px-3 py-2" required>
        {% for p in props %}
          <option value="{{ p.id }}" {% if cp and cp.property_id == p.id %}selected{% endif %}>{{ p.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label class="text-sm">Checkpoint name</label>
      <input name="name" value="{{ cp.name if cp else '' }}" class="w-full rounded-xl border border-slate-300 px-3 py-2" required>
    </div>
    <div class="pt-2">
      <button class="px-3 py-2 rounded-xl bg-slate-900 text-white">Save</button>
      <a href="{{ url_for('admin.checkpoints_index') }}" class="px-3 py-2 rounded-xl border ml-2">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
